"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[6984],{8180:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"api-reference/mapbox/use-control","title":"useControl","description":"The useControl hook is used to create React wrappers for custom map controls.","source":"@site/../docs/api-reference/mapbox/use-control.md","sourceDirName":"api-reference/mapbox","slug":"/api-reference/mapbox/use-control","permalink":"/react-map-gl/docs/api-reference/mapbox/use-control","draft":false,"unlisted":false,"editUrl":"https://github.com/visgl/react-map-gl/tree/master/docs/../docs/api-reference/mapbox/use-control.md","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Source","permalink":"/react-map-gl/docs/api-reference/mapbox/source"},"next":{"title":"useMap","permalink":"/react-map-gl/docs/api-reference/mapbox/use-map"}}');var r=n(4848),a=n(8453);const s={},l="useControl",i={},p=[{value:"Signature",id:"signature",level:2},{value:"Source",id:"source",level:2}];function c(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"usecontrol",children:"useControl"})}),"\n",(0,r.jsxs)(o.p,{children:["The ",(0,r.jsx)(o.code,{children:"useControl"})," hook is used to create React wrappers for custom map controls."]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-tsx",children:"import MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport Map, {useControl} from 'react-map-gl/mapbox';\n\nfunction DrawControl(props: DrawControlProps) {\n  useControl(() => new MapboxDraw(props), {\n    position: props.position\n  });\n\n  return null;\n}\n\nfunction App() {\n  return (\n    <Map\n      mapLib={import('mapbox-gl')}\n      initialViewState={{\n        longitude: -122.4,\n        latitude: 37.8,\n        zoom: 14\n      }}\n      mapStyle=\"mapbox://styles/mapbox/satellite-v9\"\n    >\n      <DrawControl\n        position=\"top-left\"\n        displayControlsDefault={false}\n        controls={{\n          polygon: true,\n          trash: true\n        }}\n      />\n    </Map>\n  );\n}\n"})}),"\n",(0,r.jsxs)(o.p,{children:["See a full example ",(0,r.jsx)(o.a,{href:"/examples/mapbox/draw-polygon",children:"here"}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"signature",children:"Signature"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-js",children:"useControl<T extends IControl>(\n  onCreate: ({map: MapRef, mapLib: mapboxgl}) => IControl,\n  options?: {\n    position?: ControlPosition;\n  }\n): T\n\nuseControl<T extends IControl>(\n  onCreate: ({map: MapRef, mapLib: mapboxgl}) => IControl,\n  onRemove: ({map: MapRef, mapLib: mapboxgl}) => void,\n  options?: {\n    position?: ControlPosition;\n  }\n): T\n\nuseControl<T extends IControl>(\n  onCreate: ({map: MapRef, mapLib: mapboxgl}) => IControl,\n  onAdd: ({map: MapRef, mapLib: mapboxgl}) => void,\n  onRemove: ({map: MapRef, mapLib: mapboxgl}) => void,\n  options?: {\n    position?: ControlPosition;\n  }\n): T\n"})}),"\n",(0,r.jsxs)(o.p,{children:["The hook creates an ",(0,r.jsx)(o.a,{href:"https://docs.mapbox.com/mapbox-gl-js/api/markers/#icontrol",children:"IControl"})," instance, adds it to the map when it's available, and removes it upon unmount."]}),"\n",(0,r.jsx)(o.p,{children:"Parameters:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"onCreate"}),": (",(0,r.jsx)(o.code,{children:"{map: MapRef, mapLib: mapboxgl}"}),") => ",(0,r.jsx)(o.a,{href:"/react-map-gl/docs/api-reference/mapbox/types#icontrol",children:"IControl"})," - called to create an instance of the control."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"onAdd"}),": (",(0,r.jsx)(o.code,{children:"{map: MapRef, mapLib: mapboxgl}"}),") => void - called when the control has been added to the map."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"onRemove"}),": (",(0,r.jsx)(o.code,{children:"{map: MapRef, mapLib: mapboxgl}"}),") => void - called when the control is about to be removed from the map."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"options"}),": object","\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"position"}),": 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' - control position relative to the map"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"Returns:"}),"\n",(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.a,{href:"/react-map-gl/docs/api-reference/mapbox/types#icontrol",children:"IControl"})," - the control instance from ",(0,r.jsx)(o.code,{children:"onCreate"}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"source",children:"Source"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.a,{href:"https://github.com/visgl/react-map-gl/tree/7.0-release/src/components/use-control.ts",children:"use-control.ts"})})]})}function d(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>l});var t=n(6540);const r={},a=t.createContext(r);function s(e){const o=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(a.Provider,{value:o},e.children)}}}]);