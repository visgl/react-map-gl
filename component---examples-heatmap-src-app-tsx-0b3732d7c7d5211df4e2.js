(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"M+zY":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s})),a.d(t,"renderToDom",(function(){return u}));var n=a("q1tI"),r=a("i8i4"),l=a("bzer");function o(e){var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}function c(e){var t=e.startTime,a=e.endTime,r=e.onChangeTime,l=e.allDays,c=e.onChangeAllDays,m=e.selectedTime,i=864e5,s=Math.round((a-t)/i),u=Math.round((m-t)/i);return n.createElement("div",{className:"control-panel"},n.createElement("h3",null,"Heatmap"),n.createElement("p",null,"Map showing earthquakes",n.createElement("br",null),"from ",n.createElement("b",null,o(t))," to ",n.createElement("b",null,o(a)),"."),n.createElement("hr",null),n.createElement("div",{className:"input"},n.createElement("label",null,"All Days"),n.createElement("input",{type:"checkbox",name:"allday",checked:l,onChange:function(e){return c(e.target.checked)}})),n.createElement("div",{className:"input "+(l?"disabled":"")},n.createElement("label",null,"Each Day: ",o(m)),n.createElement("input",{type:"range",disabled:l,min:1,max:s,value:u,step:1,onChange:function(e){var a=e.target.value;r(t+a*i)}})),n.createElement("hr",null),n.createElement("p",null,"Data source:"," ",n.createElement("a",{href:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson"},"earthquakes.geojson")),n.createElement("div",{className:"source-link"},n.createElement("a",{href:"https://github.com/visgl/react-map-gl/tree/7.0-release/examples/heatmap",target:"_new"},"View Code â†—")))}var m=n.memo(c),i={id:"heatmap",maxzoom:9,type:"heatmap",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,0,6,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",.9,"rgb(255,201,101)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,0]}};function s(){var e=Object(n.useState)(!0),t=e[0],a=e[1],r=Object(n.useState)([0,0]),o=r[0],c=r[1],s=Object(n.useState)(0),u=s[0],p=s[1],h=Object(n.useState)(null),g=h[0],d=h[1];Object(n.useEffect)((function(){fetch("https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson").then((function(e){return e.json()})).then((function(e){var t=e.features,a=t[0].properties.time,n=t[t.length-1].properties.time;c([n,a]),d(e),p(a)}))}),[]);var b=Object(n.useMemo)((function(){return t?g:(e=g,a=new Date(u),n=a.getFullYear(),r=a.getMonth(),l=a.getDate(),{type:"FeatureCollection",features:e.features.filter((function(e){var t=new Date(e.properties.time);return t.getFullYear()===n&&t.getMonth()===r&&t.getDate()===l}))});var e,a,n,r,l}),[g,t,u]);return n.createElement(n.Fragment,null,n.createElement(l.default,{initialViewState:{latitude:40,longitude:-100,zoom:3},mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxAccessToken:""},b&&n.createElement(l.Source,{type:"geojson",data:b},n.createElement(l.Layer,i))),n.createElement(m,{startTime:o[0],endTime:o[1],selectedTime:u,allDays:t,onChangeTime:p,onChangeAllDays:a}))}function u(e){Object(r.render)(n.createElement(s,null),e)}}}]);